\subsection{The Mallob Load Balancer and SAT Solver}
\label{prelim: mallob}
Mallob is both the \textbf{Ma}lleable \textbf{Lo}ad \textbf{B}alancer and the \textbf{M}ulti-tasking \textbf{A}gi\textbf{l}e \textbf{Lo}gic \textbf{B}lackbox \cite{schreiber2021scalable}.
It provides both a malleable scheduler which focuses on hard jobs with unknown processing times, where the jobs themselves can be small while still being hard \cite{sanders2022decentralized} and a parallel SAT solving engine which is based on the massively parallel SAT solver HordeSat \cite{balyo2015hordesat}.
Mallob is able to solve jobs using a high degree of parallelism and also allows for the processing of many jobs in parallel. In 2020, the international SAT competition featured a cloud track for the first time, which Mallob has dominated in both 2020 and 2021 \cite{froleyks2021sat, behnke2021satresults}. \\
What sets Mallob apart from other malleable schedulers is its flexibility and decentralized nature. Many other malleable schedulers rely on being able to predict run times in general and dependent on the number of assigned PEs specifically \cite{blazewicz2006preemptable}, \cite{sanders2011efficient}, whereas Mallob does not need such information \cite{sanders2022decentralized}. The decentralized nature of Mallob further avoids bottlenecks.
\\
While Mallob is an excellent malleable SAT solver, it is not limited to this problem. Mallob also forms a general job scheduler and load balancer, having a simple programming interface which allows for the integration of other problems \footnote{https://github.com/domschrei/mallob/}. The following overview of how Mallob functions as a job scheduler is taken from \cite{schreiber2021scalable}. \\
As a scheduler it is able to solve multiple jobs in parallel and adjusts the resources available per job on a dynamic basis. New jobs $j$ can be introduced to Mallob at any times and are described by a number of attributes. Among those, each job has a fixed \textit{priority} $p_j \in (0, 1)$. Additionally, each job has a variable resource \textit{demand} $d_j \in \mathbb{N}$, describing the maximum number of PEs that job $j$ is able to utilize efficiently. In the trivial case, assuming jobs only happen one after the other, each job can simply set $d_j$ to the total number of available PEs. When it comes to the total number of active jobs at any one time, Mallob assumes that their number is lower than the total number of PEs. This allows Mallob to assign each PE to only a single job at a time while still making progress on all active jobs. The total number of PEs assigned to a job is also called the job's \textit{volume} $v_j$. The volume of each job is set proportional to $d_j p_j / \sum_{j'} d_{j'} p_{j'}$, i.e., proportional to the product of a job's demand and priority.\\
Mallob follows the message passing paradigm which is realized through the MPI programming interface.

\begin{comment}
all from \cite{schreiber2021scalable}
- Mallob - \textbf{Ma}lleable \textbf{Lo}ad \textbf{B}alancer or \textbf{M}ulti-tasking \textbf{A}gi\textbf{l}e \textbf{Lo}gic \textbf{B}lackbox
- Mallob contains a parallel SAT solver
- scales up to 2000 cores
- is able to solve multiple instances in parallel, adjusting resources per job on a dynamic basis
- is a decentralized malleable job scheduler
- there is no shared RAM, communication via message passing
- jobs $j$ can arrive at arbitrary times
- for SAT: a logic formula in Conjunctive Normal Form (CNF)
- each job $j$ has a constant priority $pi_j \in (0, 1)$
- each job $j$ has a variable (over time) resource demand $d_j \in \mathcal{N}$
- simple case: $d_j$ is the number of available PEs
- $d_j$ allows a job how many resources it is able to utilize at most
- Mallob expects the number of active jobs to be lower than the number of workers, i.e. that $d_j > 1$
- each PE works on only one job at a time
- the first PE assigned to a job $j$ is its root and is fixed over the lifetime of the job
- the volume of a job is proportional to $d_j p_j / \sum_{j'} d_{j'} p_{j'}$
- PEs of a job are arranged as a binary tree which is complete except for potentially the lowest layer (nodes from the right of the last layer may be missing)
- new nodes in a job are preferably taken from the list of suspended nodes of this job

now from \cite{sanders2022decentralized}
- focus on (NP-)hard jobs with unknown processing time
- the job itself can be small while still being hard

according to \cite{feitelson1997job}
- Mallob is the class of Malleable load balancer that tells the user when PEs may be taken away (on suspend!)
- this increases complexity, but also allows us to react to such events
\end{comment}
